@tailwind base;
@tailwind components;
@tailwind utilities;

:root { color-scheme: light; }
.dark { color-scheme: dark; }

.bg-app-light { @apply bg-mesh-light; background-color: #f5faf7; background-attachment: fixed; }
.bg-app-dark  { @apply bg-mesh-dark; background-color: #0b0f12; background-attachment: fixed; }

.surface { @apply bg-white/80 dark:bg-gray-900/70 backdrop-blur supports-[backdrop-filter]:bg-white/55 dark:supports-[backdrop-filter]:bg-gray-900/55; }
.muted   { @apply text-gray-600 dark:text-gray-400; }

.card  { @apply surface rounded-3xl border border-gray-100/60 dark:border-gray-800/60 p-6 shadow-neon; }
.panel { @apply surface rounded-2xl border border-gray-100/60 dark:border-gray-800/60 p-4; }
.glass { @apply backdrop-blur bg-white/70 dark:bg-gray-900/60; }

.btn { @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 font-medium border border-gray-200 dark:border-gray-700 hover:bg-gray-50/60 dark:hover:bg-gray-800/60 active:bg-gray-100/60 dark:active:bg-gray-700/60 transition; }
.btn-primary { @apply bg-brand text-white border-transparent hover:bg-emerald-600 active:bg-emerald-700 shadow-ring; }
.btn-danger  { @apply bg-secondary text-white border-transparent hover:bg-secondary-600 active:bg-secondary-700 shadow-glow; }
.btn-ghost   { @apply border-none bg-transparent hover:bg-gray-100/50 dark:hover:bg-gray-800/50; }

.pill { @apply px-3 py-1.5 rounded-xl hover:bg-gray-100/60 dark:hover:bg-gray-800/60 text-sm; }
.pill-active { @apply bg-gray-100/80 dark:bg-gray-800/80 text-brand font-semibold; }

.dock { @apply surface rounded-3xl border border-gray-100/60 dark:border-gray-800/60 shadow-soft; }

.h1 { @apply text-2xl md:text-3xl font-extrabold tracking-tight text-gray-900 dark:text-gray-100; }
.h2 { @apply text-xl font-bold text-gray-900 dark:text-gray-100; }

.skeleton { @apply rounded-xl bg-gradient-to-r from-gray-200/70 via-gray-100/70 to-gray-200/70 dark:from-gray-700/50 dark:via-gray-800/50 dark:to-gray-700/50 animate-shimmer; height: 1rem; }

.ring-brand { box-shadow: 0 0 0 3px rgba(16,185,129,0.25); }


/* === Icon wobble animation === */
@keyframes wobble {
  0%{transform:rotate(0)}15%{transform:rotate(-8deg)}30%{transform:rotate(6deg)}45%{transform:rotate(-4deg)}60%{transform:rotate(2deg)}100%{transform:rotate(0)}
}
.icon-wobble,.icon-wable{display:inline-block;transform-origin:center}
.icon-wobble:hover,.icon-wable:hover{animation:wobble .6s ease-in-out both}
.group:hover .icon-wobble,.group:hover .icon-wable,
.group:focus .icon-wobble,.group:focus .icon-wable,
.group:active .icon-wobble,.group:active .icon-wable{animation:wobble .6s ease-in-out both;will-change:transform}



/* === 2-bar burger that morphs to X === */
.burger-2 { position: relative; width: 28px; height: 28px; padding: 0; display: inline-flex; align-items: center; justify-content: center; }
.burger-2 span { position: absolute; left: 6px; right: 6px; height: 2px; background: currentColor; border-radius: 9999px; transition: transform .25s ease, top .25s ease, opacity .2s ease; }
.burger-2 span:nth-child(1) { top: 10px; }
.burger-2 span:nth-child(2) { top: 16px; }
/* when expanded -> make an X */
.burger-2[aria-expanded="true"] span:nth-child(1) { top: 13px; transform: rotate(45deg); }
.burger-2[aria-expanded="true"] span:nth-child(2) { top: 13px; transform: rotate(-45deg); }

/* === Global shadow overrides (remove all shadows) === */
/* Neutralize Tailwind shadow utilities */
.shadow, .shadow-sm, .shadow-md, .shadow-lg, .shadow-xl, .shadow-2xl, .shadow-inner, .shadow-none { box-shadow: none !important; }
/* Neutralize custom shadow utilities from theme */
.shadow-soft, .shadow-ring, .shadow-glow, .shadow-neon { box-shadow: none !important; }
/* Neutralize hover variants explicitly used */
.hover\:shadow-neon:hover { box-shadow: none !important; }
/* Neutralize drop-shadow utilities (they use CSS filter) */
.drop-shadow, .drop-shadow-sm, .drop-shadow-md, .drop-shadow-lg, .drop-shadow-xl, .drop-shadow-2xl, .drop-shadow-none { filter: none !important; }
/* Neutralize custom ring that relies on box-shadow */
.ring-brand { box-shadow: none !important; }
/* Ensure common components donâ€™t render shadows */
.card, .panel, .dock, .btn, .btn-primary, .btn-danger, .btn-ghost { box-shadow: none !important; filter: none !important; }

/* --- Mobile-only tweaks (<= 640px) --- */
@media (max-width: 640px) {
  .card { padding: 1rem; border-radius: 1rem; }
  .panel { padding: 0.75rem; border-radius: 0.75rem; }
  .h1 { font-size: 1.125rem; line-height: 1.4; }
  .h2 { font-size: 1rem; }
}

/* Bottom tab bar safe-area support */
.mobile-tabbar { padding-bottom: max(env(safe-area-inset-bottom), 0px); }
